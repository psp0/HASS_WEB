define(['exports', 'preact/jsx-runtime', 'preact', 'preact/hooks', './TransitionGroup-e46b469a', './useAnimation-6b82844f', './MessagesContext-e6605f86', './useMessagesContext-1fdfc011', './Transition-b3523f78'], (function(e,n,t,i,r,a,s,o,c){"use strict";const u={};function d({animationStates:e=u,initialAnimationStyles:t,onEntering:r,onExiting:s,...d}){const[l,g]=i.useState("entering"),m=i.useRef(),x=i.useRef(),{controller:f,nodeRef:v}=a.useAnimation(l,{animationStates:e,isAnimatedOnMount:!0,onAnimationEnd:i.useCallback((()=>{m.current?.(),m.current=void 0,x.current?.(),x.current=void 0}),[])}),{addBusyState:y}=o.useMessagesContext(),k=i.useCallback(((n,t,i)=>{m.current&&(m.current=void 0,f.cancel()),x.current?.(),x.current=void 0,r?.(n,void 0,i),g("entering"),void 0!==e.entering||void 0!==e["exiting => entering"]?(m.current=t,x.current=y?.("messages animating")):t?.()}),[e,f,y,r]),S=i.useCallback(((n,t,i)=>{m.current&&(m.current=void 0,f.cancel()),x.current?.(),x.current=void 0,s?.(n,void 0,i),g("exiting"),void 0!==e.exiting||void 0!==e["entering => exiting"]?(m.current=t,x.current=y?.("messages animating")):t?.()}),[e,f,y,s]);return i.useLayoutEffect((()=>()=>x.current?.()),[]),n.jsx("div",{ref:v,style:t,children:n.jsx(c.Transition,{...d,onEntering:k,onExiting:S})})}e.MessagesManager=function({data:e,animationStates:a,children:s,initialAnimationStyles:o,onMessageWillRemove:c}){const u=i.useCallback((async(e,n)=>{n&&c?.(n.key,n.index,e)}),[c]);return n.jsx(r.TransitionGroup,{elementType:t.Fragment,children:e.map(((e,t)=>n.jsx(d,{animationStates:a,initialAnimationStyles:o,metadata:{index:t,key:e.key},onExited:u,children:s?.({index:t,item:e})},e.key)))})}}));
//# sourceMappingURL=MessagesManager-e4da0822.js.map
