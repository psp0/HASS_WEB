define(['exports', 'preact/jsx-runtime', './useTextDimensions-cd50e46e', './useCssVars-d9f0d385', './cssUtils-5c84e14f', './UNSAFE_Chart/themes/ChartStyles.css', 'preact/hooks', './Gridlines-657866bb', './useId-93f47e0a', './Axis-e5656cfd', './useChartViewport-485162f2', './layoutUtils-fa012ea3', './useChartNav-173068c1', './mergeProps-31f70810', './useSelectDrill-6060ffb9', './useTestId-85e3a67d', './useUser-03bad59a', './TrackResizeContainer-3e88e29d', './ScrollBar-12e82fbc'], (function(e,t,o,i,r,n,s,a,l,d,x,c,u,p,g,I,f,h,S){"use strict";function m(e,t,o){const i=e.groupIndex+1;if(!(i>=t))return o(i)?{groupIndex:i}:m({groupIndex:i},t,o)}function v(e,t){const o=e.groupIndex-1;if(!(o<0))return t(o)?{groupIndex:o}:v({groupIndex:o},t)}e.Chart=function({width:e="100%",height:y="448px",selectedIds:C=[],hiddenIds:A,hideAndShowBehavior:D="none",orientation:b="vertical",xAxis:w,yAxis:P,plotArea:N,series:E,groups:G,isStacked:T=!1,getDataItem:V,selectionMode:j="none",drilling:M="off",dataCursorPosition:k,onSelectionChange:R,isDataCursorEnabled:z,dataCursorStyle:F,onViewportChange:U,onDataCursorPositionChange:B,onItemDrill:L,onGroupDrill:H,onItemInput:O,datatip:W,zoomAndScroll:$="off",offset:_,getNavUtil:q,getDataItemPos:J,getGapRatio:K,valueFormats:Q,findNearest:X,getMarkerInfo:Y,isRtl:Z,children:ee,testId:te,renderGridLinesInFront:oe,...ie}){const re=r.getChartVars(),ne=I.useTestId(te);return t.jsx(h.TrackResizeContainer,{width:e,height:y,children:function(e,r){const I=s.useRef(null),h="horizontal"===b,{xAxisPosition:y,yAxisPosition:te}=c.getAxesPosition(P,h,Z),{resolvedVars:se,cssContent:ae}=i.useCssVars(re),{textMeasureContent:le,getTextDimensions:de}=o.useTextDimensions();let xe=c.getAvailSpace(e,r);const ce=c.getScrollBarSpace(xe,$,y);let ue=ce.scrollDims;xe=ce.availSpace;const pe=new Set(A),{locale:ge}=f.useUser(),{xProps:Ie,xScale:fe,xViewportExtent:he,xAxisExtent:Se,xIndexExtent:me,yViewportExtent:ve,yAxisExtent:ye,groupWidth:Ce,yProps:Ae,yScale:De,yMaxDim:be,yMajorTicks:we,yMinorTicks:Pe,plotAreaSpace:Ne}=c.getLayoutInfo(E,G,V,w,P,xe,pe,D,h,Z,T,se.labelFontSize,_,ge,de);ue=c.updateScrollBarSpace(ue,"bottom"===y,be);const Ee=K(me.startIndex,me.endIndex),Ge=q(me.startIndex,me.endIndex),Te=Ie.tickLabels.map((({index:e})=>e+me.startIndex)),{getNextNavGroup:Ve,getDefaultNavGroup:je}=function(e,t,o,i,r){const n=o=>{const r=e[t[o]].drilling;return("on"===i||"groupsOnly"===i)&&"off"!=r},s=e=>o.startIndex>t[e.groupIndex]?(e.groupIndex=0,e):o.endIndex<t[e.groupIndex]?(e.groupIndex=t.length-1,e):void 0;return{getDefaultNavGroup:s,getNextNavGroup:(e,o)=>{let i=s(e);return i||(i="ArrowRight"===o?r?v(e,n):m(e,t.length,n):r?m(e,t.length,n):v(e,n),i||e)}}}(G,Te,me,M,Z),{activeId:Me,focusedItemInfo:ke,hoveredItemInfo:Re,focusedGroupInfo:ze,navProps:Fe}=u.useChartNav({rootRef:I,getNextChartItem:Ge,getNextNavGroup:Ve,getDefaultNavGroup:je,onItemInput:O,drilling:M,xIndexExtent:me}),Ue=g.useSelectDrill({selectionMode:j,selection:C,onChange:R,rootRef:I,drilling:M,onItemDrill:L,onGroupDrill:H,focusedGroupInfo:ze,focusedItemInfo:ke,groups:G,getDataItem:V}),Be=x.useChartViewport({width:e,height:r,xViewportExtent:he,yViewportExtent:ve,xAxisExtent:Se,yAxisExtent:ye,xScale:fe,yScale:De,plotAreaSpace:Ne,isRtl:Z,isHoriz:h,zoomAndScroll:$,onViewportChange:U}),Le=X(fe,De,Ce,Ee),He=J(fe,De,Ce,Ee),{datatipContent:Oe,dataCursorContent:We,datatipProps:$e}=g.useChartDatatipAndCursor({series:E,groups:G,width:e,height:r,findNearest:Le,plotAreaSpace:Ne,onDataCursorPositionChange:B,isDataCursorEnabled:z,dataCursorPosition:k,dataCursorStyle:F,hoveredItemInfo:Re,focusedItemInfo:ke,getDataItem:V,getMarkerInfo:Y,getDataItemPos:He,datatip:W,valueFormats:Q,isHoriz:h,xScale:fe,yScale:De,timeAxisType:w?.timeAxisType}),_e=p.mergeProps(Fe,Ue,Be,$e),qe=l.useId(),{viewportMin:Je,viewportMax:Ke}=he,{startIndex:Qe,endIndex:Xe}=me,Ye=t.jsx(a.Gridlines,{plotArea:N,yMinorTicks:Pe,xScale:fe,yScale:De,isLog:"log"===P?.scale,xViewportMin:Je,xViewportMax:Ke,yTicks:we,yAxisPosition:te});return t.jsxs("div",{tabIndex:0,ref:I,"aria-activedescendant":Me,"aria-label":ie["aria-label"],"aria-labelledby":ie["aria-labelledby"],"aria-describedby":ie["aria-describedby"],style:{width:e,height:r},role:"application",className:n.styles.outline,...ne,..._e,children:[t.jsxs("svg",{width:"100%",height:"100%",children:[t.jsx("clipPath",{id:`${qe}`,children:t.jsx("rect",{...Ne})}),t.jsx(a.PlotArea,{color:N?.color,yScale:De,isLog:"log"===P?.scale,availSpace:Ne,xAxisPosition:y}),!oe&&Ye,t.jsx(d.Axis,{...Ae,axisPosition:te}),t.jsx(d.Axis,{...Ie,axisPosition:y,isTextInteractive:e=>{if(null!=w?.timeAxisType)return!1;const t=G[e].drilling;return"on"===t||"off"!=t&&("on"===M||"groupsOnly"===M)},activeId:Me,focusedGroupIndex:ze.isFocusVisible?ze.groupIndex:void 0}),t.jsxs("g",{"clip-path":`url(#${qe})`,children:[ee({xStartIndex:Qe,xEndIndex:Xe,xScale:fe,yScale:De,gapRatio:Ee,activeId:Me,focusedItemInfo:ke,hoveredItemInfo:Re,groupWidth:Ce}),oe&&Ye,We]}),"live"===$&&t.jsx(S.ScrollBar,{availSpace:ue,viewport:he,axisExtent:Se,isHoriz:"bottom"===y})]}),le,ae,Oe]})}})}}));
//# sourceMappingURL=Chart-4e772761.js.map
