define(['exports', './useDatatip-53c4d649', './util-a02e87e9', 'preact/jsx-runtime', './VisTabularDatatip-877ef918', './colorUtils-4c312b6d', './accUtils-c6181728', './useUser-03bad59a'], (function(e,s,t,r,i,a,o,n){"use strict";function u(e,s,t,r,i){const a=e.value,o=r?.value?.format?r?.value?.format?.(a):a,n=[];return 0!=r?.series?.isDisplayed&&n.push({key:r?.series?.label||"Series",value:s}),0!=r?.group?.isDisplayed&&n.push({key:r?.group?.label||(i?"Date":"Group"),value:t}),0!=r?.value?.isDisplayed&&n.push({key:r?.value?.label||"Value",value:o}),n}e.useChartDatatip=({isDataCursorEnabled:e,dataCursorPosition:o,isHoriz:l,datatip:d,xScale:p,getDataItem:x,getDataItemPos:c,hoveredItemInfo:m,focusedItemInfo:I,series:g,valueFormats:f,groups:v,width:y,height:C,findNearest:b,timeAxisType:D})=>{let A=I?.isCurrent?I:m?.isCurrent&&void 0!==m.seriesIndex&&void 0!==m.groupIndex?m:void 0;const h=I?.isCurrent||e?"element":"pointer",T=I?.isCurrent?c(I.seriesIndex,I.groupIndex):void 0,{direction:k}=n.useUser(),F="rtl"===k;let P,U,S="top-start",V=t.calculateOffset(F,y,T);if(e&&null!=o?.x&&null!=o?.y){A=A||b?.(o.x,o.y);const e=p.transform(o.x);V={mainAxis:-1,crossAxis:-1},l?(S="end",V.mainAxis=-10,V.crossAxis=e-C/2):(S="top",V.crossAxis=F?y/2-e:e-y/2,V.mainAxis=-10)}if(null!=A?.seriesIndex&&null!=A?.groupIndex){U=x(A.seriesIndex,A.groupIndex);const e=U?{data:U,seriesIndex:A.seriesIndex,groupIndex:A.groupIndex,id:U.id}:void 0;if(e){P=(d||function(e){const s="mixedFrequency"===e.timeAxisType,t="enabled"===e.timeAxisType||"skipGaps"===e.timeAxisType;return a=>{const o=e.groups.name||e.groups.id,n=s?a.data.x:t?o:void 0;return{content:r.jsx(i.VisTabularDatatip,{tableData:u(a.data,e.series.name||e.series.id.toString(),n||e.groups.name||e.groups.id,e.valueFormats,null!=e.timeAxisType)}),borderColor:a.data.color||e.series.color}}}({series:g[A.seriesIndex],groups:v[A.groupIndex],valueFormats:f,timeAxisType:D}))(e)}}const j=a.getColorRamp(),G=P?.borderColor||A&&(g[A.seriesIndex].color||g[A.seriesIndex].lineColor||g[A.seriesIndex].areaColor)||A&&j[A.seriesIndex%j.length],{datatipContent:q,datatipProps:w}=s.useDatatip({content:P?.content,anchor:h,placement:S,offset:V,borderColor:G});return{datatipContent:q,datatipProps:w}}}));
//# sourceMappingURL=useChartDatatip-ecb35448.js.map
