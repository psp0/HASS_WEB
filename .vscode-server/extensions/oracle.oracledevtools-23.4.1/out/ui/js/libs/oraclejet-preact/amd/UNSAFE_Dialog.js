define(['exports', 'preact/jsx-runtime', 'preact/compat', './WindowOverlay-31e3416a', './useTestId-85e3a67d', './useAnimation-6b82844f', 'preact/hooks', './UNSAFE_Dialog/themes/redwood/DialogTheme', './FocusTrap-61139e4d', './Layer-8682b669', './TopLayerHost-1134809b', './Modal-a327901f', './classNames-902bc74c', './ImageVars.css-fd0cc88b', './useComponentTheme-ee621a15', './useId-93f47e0a', './mergeInterpolations-2c5b5a03', './_curry3-d231d2ab', './_curry1-18233096', './_curry2-6839fe47', './_isObject-3d38b8ba', './vanilla-extract-dynamic.esm-f66d9a78', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './useUser-03bad59a', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-cef8720b', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'css!./ImageVars.styles.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './tabbableUtils-63e9f37e', './head-585360fd', './_arity-cc05f75a', './_isArray-a4219cba', './_isString-5e4bea9c', './FocusTracker-0be417ef', 'preact', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './useThemeInterpolations-20e5a76e', './useColorScheme-504ab80c', './useScale-cdf8dd7a', './theme-7fdf24b2', './Theme-4e5c2b63', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './logger-2fbed0e0'], (function(e,s,a,o,t,l,r,d,n,i,c,m,y,h,u,f,b,g,p,S,w,T,v,F,O,_,N,D,A,x,E,j,I,W,U,C,B,R,M,k,L,V,K,X,Y,H,P,q,z,G,J,Q,Z,$,ee,se){"use strict";const ae=({header:e,id:a})=>{const{styles:o}=u.useComponentTheme(d.DialogRedwoodTheme),t="string"==typeof e?s.jsx("h1",{id:a,className:o.dialogTitleStyle,children:e}):e;return s.jsx("div",{className:o.dialogHeaderStyle,children:t})},oe=a.forwardRef((({children:e,header:a,footer:o,labelId:l,role:r,ariaLabelledBy:n,ariaDescribedBy:i,onKeyDown:c,testId:m},f)=>{const{classes:b,styles:g}=u.useComponentTheme(d.DialogRedwoodTheme),p=t.useTestId(m);return s.jsx("div",{ref:f,className:y.classNames([b,h.globalImages]),style:{opacity:0},onKeyDown:c,role:r,"aria-labelledby":n,"aria-describedby":i,...p,children:s.jsxs("div",{className:g.dialogContainerStyle,children:[s.jsx(ae,{id:l,header:a}),s.jsx("div",{className:g.dialogContentStyle,children:s.jsx("div",{className:g.dialogBodyStyle,children:e})}),s.jsx("div",{className:g.dialogFooterStyle,children:o})]})})})),te={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:t,header:d="",footer:c,modality:y="modal",placement:h="center",offset:u=0,onClose:b,onTransitionEnd:g,role:p="dialog","aria-labelledby":S,"aria-describedby":w,testId:T})=>{const[v,F]=r.useState(t?"opening":"unmounted"),O=f.useId(),_=S||O;r.useEffect((()=>{("unmounted"!==v||t)&&F(t?"opening":"closing")}),[t,v]);const{nodeRef:N}=l.useAnimation(v,{animationStates:te,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(F("unmounted"),g?.(!1)):g?.(!0)}}),D=e=>{if("Escape"===e.code)b?.({reason:"escapeKey"})},A=()=>s.jsx(o.WindowOverlay,{placement:h,offset:u,children:s.jsx(n.FocusTrap,{autoFocusRef:e,children:s.jsx(oe,{ref:N,labelId:_,header:d,footer:c,role:p,ariaLabelledBy:_,ariaDescribedBy:w,onKeyDown:D,testId:T,children:a})})});return"modal"===y?s.jsx(m.Modal,{isOpen:"unmounted"!==v,children:A()}):"unmounted"!==v?s.jsx(i.Layer,{children:A()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
