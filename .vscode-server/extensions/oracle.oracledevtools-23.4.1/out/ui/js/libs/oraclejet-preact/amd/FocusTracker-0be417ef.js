define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './classNames-902bc74c', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', './tabbableUtils-63e9f37e'], (function(e,t,n,r,s,c,u){"use strict";const l=r.forwardRef((({onFocus:e},n)=>{const r=s.classNames([c.styles.guardStyle]);return t.jsx("div",{class:r,onFocus:e,ref:n,tabIndex:0})})),a=e=>{if(0===e.length)return!1;const t=u.getActiveElement(e[0]);return e.some((e=>e?.contains(t)))};e.FocusTracker=({children:e,onFocusStartEdge:o,onFocusEndEdge:i,onStartTracking:f,onStopTracking:b,isDisabled:m=!1,styleClass:E})=>{const d=r.useRef(null),F=r.useRef(null),g=r.useRef(null),h=r.useRef(null),p=r.useRef(),v=r.useRef(),x=s.classNames([c.baseStyle,E]);r.useEffect((()=>{p.current=f}),[f]),r.useEffect((()=>{v.current=b}),[b]);const R=(e,t,n)=>{null!=n&&n({tabbableElements:u.allTabbableElements(t)}),e.stopPropagation(),e.preventDefault()};return r.useEffect((()=>{const e=()=>null!=d.current&&a([d.current,F.current,g.current]),t=d.current;if(null!=t&&!m)return null!=p.current&&p.current({activeElement:u.getActiveElement(t),hasFocusWithin:e(),tabbableElements:u.allTabbableElements(t)}),()=>{null!=v.current&&v.current({hasFocusWithin:e(),lastActiveElement:h.current})}}),[m]),t.jsxs(n.Fragment,{children:[!m&&t.jsx(l,{onFocus:e=>{null!=d.current&&R(e,d.current,o)},ref:F}),t.jsx("div",{onFocus:m?void 0:e=>{h.current=e.target},ref:d,class:x,children:e}),!m&&t.jsx(l,{onFocus:e=>{null!=d.current&&R(e,d.current,i)},ref:g})]})}}));
//# sourceMappingURL=FocusTracker-0be417ef.js.map
